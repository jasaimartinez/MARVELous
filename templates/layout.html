<!DOCTYPE html>

<html lang="en">
    <head>
        <!--Our main page for MARVELous!-->
        <title>MARVELous!</title>
        <link href="/static/styles.css" rel="stylesheet">
        <link rel="icon" type="image/x-icon" href="/static/avengers.ico">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <!--This js function is critical for our ratings page, where we get the link movie name and its phase to or-->
        <script>
        //We need to take in the link, movie, phase paramters
        function picture(link, movie, phase){
            //Here we want to display all the hidden icons, like the picture the outputs
            document.getElementById('pic').src = link.replace('90x90', '225x100');
            document.getElementById('pic').style.display='block';
            document.getElementById('ratingInput').style.display='block';
            document.getElementById('ratingOutput').style.display='block';
            document.getElementById('submit').style.display='block';
            document.getElementById('text2').style.display='block';
            document.getElementById('label').style.display='block';
            document.getElementById('movie_title').style.display='block';
            document.getElementById('movie_title').value = movie;
            //If statement because depending on the phase we will change the background colors and we will change the icon that is a staple for the phase
            if (phase == 1)
            {
                document.getElementById('rating_header').style.backgroundColor = '#FF0000';
                document.getElementById('ratingOutput').style.backgroundColor = '#FF0000';
                document.getElementById('label').style.backgroundColor = '#FF0000';
                document.getElementById('movie_title').style.backgroundColor = '#FF0000';
                document.getElementById('phase_image').src="/static/iron.png";
            }
            if (phase == 2)
            {
                document.getElementById('rating_header').style.backgroundColor = '#0000FF';
                document.getElementById('ratingOutput').style.backgroundColor = '#0000FF';
                document.getElementById('label').style.backgroundColor = '#0000FF';
                document.getElementById('movie_title').style.backgroundColor = '#0000FF';
                document.getElementById('phase_image').src="/static/cap.png";
            }
            if (phase == 3)
            {
                document.getElementById('rating_header').style.backgroundColor = '#00FF00';
                document.getElementById('ratingOutput').style.backgroundColor = '#00FF00';
                document.getElementById('label').style.backgroundColor = '#00FF00';
                document.getElementById('movie_title').style.backgroundColor = '#00FF00';
                document.getElementById('phase_image').src="/static/spidey.png";
            }
            if (phase == 4)
            {
                document.getElementById('rating_header').style.backgroundColor = '#FFFF00';
                document.getElementById('ratingOutput').style.backgroundColor = '#FFFF00';
                document.getElementById('label').style.backgroundColor = '#FFFF00';
                document.getElementById('movie_title').style.backgroundColor = '#FFFF00';
                document.getElementById('phase_image').src="/static/wanda.png";
            }

        }
        </script>
        <!--Main background image for all tabs-->
        <style>
            body {
            background-image: url('/static/endgame.jpeg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            }
        </style>

        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">

        <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
        <script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"></script>

    </head>
    <!--Create our navbar from bootstrap-->
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-danger" role="navigation">
            <!--We want to alternate the colors for the Marvelous title and also have our iconic marvel picture-->
            <a class="navbar-brand" href="/"><span class="fs-1" style="color: purple">M</span><span class="fs-1" style="color: black">A</span><span class="fs-1" style="color: purple">R</span><span class="fs-1" style="color: black">V</span><span class="fs-1" style="color: purple">E</span><span class="fs-1" style="color: black">L</span><span class="fs-1" style="color: purple">o</span><span class="fs-1" style="color: black">u</span><span class="fs-1" style="color: purple">s</span><span class="fs-1" style="color: black">!</span>
                <img src="/static/marvel_logo.png" width="120" height="45" class="d-inline-block align-top" alt="">
            </a>
            <div class="collapse navbar-collapse" id="navbarText">
                <!--If statement because we only want the main navbar to show up when users are logged in-->
                {% if session["user_id"] %}
                <span class="fs-3">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active"><a class="nav-link" href="/general"><b>General</b></a></li>
                        <li class="nav-item"><a class="nav-link" href="/ratings"><b>Ratings</b></a></li>
                        <li class="nav-item"><a class="nav-link" href="/discussion"><b>Discussion</b></a></li>
                </span>
            </div>
            <span class="fs-3">
                <div class="collapse navbar-collapse justify-content-end">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item"><a class="nav-link" href="/logout"><b>Log Out</b></a></li>
                    </ul>
                </div>
            </span>
                {% else %}
                <span class="fs-3">
                    <div class="collapse navbar-collapse justify-content-end">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
                            <li class="nav-item"><a class="nav-link" href="/login">Log In</a></li>
                        </ul>
                    </div>
                </span>
                {% endif %}
        </nav>
        <!--We need main class to connect to our other htmls-->
        <main class="container-fluid py-5 text-center">
            {% block main %}{% endblock %}
        </main>
    </body>
</html>
